<div class="row">
  <div class="col-md-12">
    <div class="page-header">
      <h1>Cadastro</h1>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-4 col-md-offset-4" ng-controller="UsuarioCtrl as usuario">
    <%= form_tag(controller: 'usuarios', action: 'create', method: 'post') do%>
        <div class="form-group">
          <%= label_tag(:login, 'Login') %>
          <%= text_field_tag(:login, value = nil, options = {'class' =>  'form-control', 'ng-model' => 'usuario.login', 'required' => 'required'}) %>
          <label ng-show="usuario.jaExiste({{usuario.login}})">Usuario jรก existe</label>
        </div>
        <div class="form-group">
          <%= label_tag(:senha, 'Senha') %>
          <%= text_field_tag(:senha, value = nil, options = {'class' =>  'form-control', 'onkeyup' => 'verificarSenha();', 'type' => 'password', 'required' => 'required'}) %>
        </div>
        <div class="form-group">
          <%= label_tag(:confirmaSenha, 'Confirme a Senha') %>
          <%= text_field_tag(:confirmaSenha, value = nil, options = {'class' =>  'form-control', 'type' => 'password', 'onkeyup' => 'verificarSenha();', 'required' => 'required'}) %>
        </div>
        <div class="form-group">
          <%= label_tag(:nome, 'Nome Completo') %>
          <%= text_field_tag(:nome, value = nil, options = {'class' =>  'form-control', 'required' => 'required'}) %>
        </div>
        <div class="form-group">
          <%= label_tag(:dataNasc, 'Data de Nascimento') %>
          <%= text_field_tag(:dataNasc, value = nil, options = {'class' =>  'form-control', 'type' => 'date', 'required' => 'required'}) %>
        </div>
        <div class="form-group">
          <%= label_tag(:email, 'Email') %>
          <%= text_field_tag(:email, value = nil, options = {'class' =>  'form-control', 'type' => 'email', 'required' => 'required'}) %>
        </div>
        <%= button_tag('Cadastrar', options ={'class' => 'btn btn-lg btn-block btn-success', 'id' => 'botao', 'disabled' => 'disabled'}) %>


    <% end %>
  </div>
</div>
<script type="text/javascript">
        function verificarSenha(){
            var senha = $('#senha').val();
            var confirmSenha = $('#confirmaSenha').val();
            if(senha == confirmSenha && senha.length >=3){
                $("#botao").removeAttr("disabled");
            }else{
                $("#botao").attr("disabled", 'disabled');
            }
        }
</script>
